# JupiterOne 2021.77 Release

2021-08-11

## New Features and Improvements

- Concatenation: The new J1QL return function `CONCAT()` allows users to combine two or more queried columns, strings, or numbers into one new string value

- Released the ability to perform a J1 Query from the application navbar

- Customers that setup an AWS integration for the first time will be given the option to automatically import AWS CIS 1.4 (was previously 1.2)

- Added a **Request a feature** option to the help center dropdown (it is right above the **Report a bug** option)

- Minor styling changes to the policies app

## Integrations

### Artifactory

- Handle `404` error validating configuration and display a useful error message
  to the user.

- Changed `CodeRepo.{id, createdBy, updatedBy}` from `number` to `string` to
  meet data-model schema requirements

### Azure

- Improved configuration validation when provided a `subscriptionId` parameter
  to present better errors to users, such as:

  - `The provided subscription identifier '{{SUBSCRIPTION_ID}}' is malformed or invalid.`
  
  - `The subscription '{{SUBSCRIPTION_ID}}' could not be found.`

  - `The client '{{CLIENT_ID}}' with object id '{{CLIENT_ID}}' does not have authorization to perform action 'Microsoft.Resources/subscriptions/read' over scope '/subscriptions/{{SUBSCRIPTION_ID}}' or the scope is invalid.`

### AWS

- Added support to capture EC2 user data as a property and detect secrets in the
  user data. Secrets (e.g. API token, access key, hash) detected are redacted
  and the EC2 instance entity will be set with `hasSecrets: true` property.

  > Note: this requires `ec2:describeInstanceAttribute` permission.

- Added `aws_redshift_cluster_parameter_group` entities and relationships to
  `aws_redshift_cluster` entities.

### Crowdstrike

- Retry API requests that respond with a `500` status code

- Normalize `macAddress` to support mapping to `Host` entities

- New properties added to resources:

  | Entity               | Properties       |
  | -------------------- | ---------------- |
  | `crowdstrike_sensor` | `ec2InstanceArn` |

### Google Cloud

- Retry API calls on "Quota exceeded" errors

- Encode path part of `webLink` entity property

- Added support for ingesting the following **new** relationships:

  | Source               | class        | Target                           |
  | -------------------- | ------------ | -------------------------------- |
  | `google_iam_binding` | **ALLOWS**   | `ANY_RESOURCE` (\*)              |
  | `google_iam_binding` | **ALLOWS**   | `google_cloud_projects`          |
  | `google_iam_binding` | **ALLOWS**   | `google_sql_mysql_instance`      |
  | `google_iam_binding` | **ALLOWS**   | `google_sql_postgres_instance`   |
  | `google_iam_binding` | **ALLOWS**   | `google_sql_sql_server_instance` |
  | `google_iam_binding` | **ASSIGNED** | `google_domain`                  |

  \* other than specific ingested types

### Google Workspaces

- Handle `400` invalid email response for group settings endpoint

### OneLogin

- Added the ability to pass a different API hostname (e.g.
  `https://api.eu.onelogin.com`) to fetch data from different OneLogin
  environments.

- Fix `undefined undefined` in user job to show proper `status` and
  `statusText`, such as `401 Unauthorized`.

- Fix `UPLOAD_ERROR`, `NOT_ALLOWED` caused by `_icon` property on app and
  personal app entities. Removed the `_icon` property as it is not allowed to be
  an underscore property.

- Migrated to latest SDK, leading to normalized property names thanks to schema
  validations:
  - `login_id` -> `loginId`
  - `connector_id` -> `connectorId`
  - `custom_attribute` prefix -> `customAttribute`

### Okta

- Handle `404` errors on non-existent groups or apps when fetching details

## Bug Fixes
 
- Resolved an issue where fields including the word `tag` would show the tag icon in the column header

- Resolved an issue where the recurring review on a compliance requirement would not send a reminder when the review was coming due

- Resolved an issue that would arise where the modal would not be cleared between evidence uploads

## Coming Soon!

- DeMorgan's Law:
To maintain language correctness, J1QL will now fulfill shorthand filters in accordance with DeMorgan's Law. This improvement only impacts queries that use the operators `!=`, `!~=`, `!^=`, `!$=` when operating on a group of values such as the following: `FIND jira_user WITH accountType != ('atlassian' OR 'app' OR 'customer')`.  To put it simply, J1QL will now interpret the above query to return all jira_user entities, excluding those which have an accountType value of 'atlassian' or 'app'.




